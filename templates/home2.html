<!DOCTYPE html>
<html>
    <head>
        <title>FindIt A&M</title>
        <link rel="icon" type="image/x-icon" href="/static/A&Mfavicon.ico">
        <meta charset="utf-8">
    	<meta name="viewport" content="width=device-width, initial-scale=1">
	    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">     
    </head>  
        <style>
                #banner{
                width:100%;
                height:20rem;
                object-fit:cover;
            }
                
        </style>
    <body>
        {% include 'nav.html' %}
        <div class="container" style="color: rgb(120,0,0);">
            <h1 class="text-center">FindIt A&M</h1>
            <img class="img-fluid" id="banner" src=/static/banner.jpg height="360">
            <p class="lead">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, 
            sed do eiusmod tempor incididunt ut labore et dolore 
            magna aliqua. Ut enim ad minim veniam, quis nostrud 
            exercitation ullamco laboris nisi ut aliquip ex ea 
            commodo consequat. Duis aute irure dolor in 
            reprehenderit in voluptate velit esse cillum dolore 
            eu fugiat nulla pariatur. Excepteur sint occaecat 
            cupidatat non proident, sunt in culpa qui officia 
            deserunt mollit anim id est laborum.
            </p>
            <h2 class="text-center" mt-2 mb-4>blah blah blah</h2>
            <div class="text-center">
                <button class="btn btn-light">Give us MORE!</button>
                <p>copyright?</p>
            </div>
            <div style="text-align:center" style="padding-bottom: 1 rem;">
                <button type="button" onclick = "filter()" style="margin: 0 auto; padding-bottom: 1 rem;">Filter</button>
                <select name="filter" id="filter" style="margin: 0 auto;">
                    <option value="printer">Printer</option>
                    <option value="microwave">Microwaves</option>
                    <option value="computer">Computer</option>
                    <option value="vending_machine">Vending Machine</option>
                    <option value="aggie_express">Aggie Express</option>
                </select> 

            </div>
        </div>
<script>src="{{ url_for('static', filename='script.js') }}"</script>

<div id="map"></div>
<script>
    function myMap() {
    var mapProp= {
    center:new google.maps.LatLng(30.6097085,-96.3538729),
      zoom:15,
      mapId: "2811d00f86aaab58",
    };
    var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
    }
    </script>
<script async
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCG726Rj10Q_Oq4OT_FgF0HStvJ0gLT2Tk&loading=async&callback=myMap">

  </script>
  <div id="googleMap" style="width:100%;height:25rem;"></div>
  <div id="itemContainer"></div>
  <script async>
    async function getItems(){
        let value = document.getElementById("filter").value
        let element = await fetch(`/${value}`).then((response) => response.json()).then((responseJSON) => {
            // console.log(responseJSON)
            // console.log(responseJSON.length)
            const container = document.getElementById("itemContainer");
            for(let i = 0; i < responseJSON.length; i++){
                const newDiv = document.createElement('div')
                const newP = document.createElement('p')
                newDiv.textContent = `${value} ${i}`
                newP.textContent = `${responseJSON[i].location.building}`
                container.appendChild(newDiv)
                newDiv.appendChild(newP)
            }
        })
    }
    function filter(){
        const element = document.getElementById("itemContainer")
        while(element.firstChild){
            element.removeChild(element.firstChild)
        }
        getItems()
    }

</script>
    </body>

</html>